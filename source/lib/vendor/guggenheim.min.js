  var guggenheim=function(t,e){function r(t){return t.toLowerCase()}function n(t){return T?T+t:r(t)}function i(t){if("object"!=typeof t)return[];var e,r=[];for(e in t)r.push(e);return r}function o(t){if("object"!=typeof t)return[];var e,r=[];for(e in t)r.push(t[e]);return r}function a(t,e){var r,n;for(r in e)if(o(t[r]).length>0&&o(e[r]).length>0)for(n in e[r])t[r][n]=e[r][n];else t[r]=e[r];return t}function l(t){var e=window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle;return{height:parseFloat(e.height)+(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0),width:parseFloat(e.width)+(parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),margin:{top:parseFloat(e.marginTop)||0,right:parseFloat(e.marginRight)||0,bottom:parseFloat(e.marginBottom)||0,left:parseFloat(e.marginLeft)||0},padding:{top:parseFloat(e.paddingTop)||0,right:parseFloat(e.paddingRight)||0,bottom:parseFloat(e.paddingBottom)||0,left:parseFloat(e.paddingLeft)||0}}}function s(t){return t._zid||(t._zid=N++)}function p(t,e,r){var n=s(t);B[n]||(B[n]={}),B[n][e]||(B[n][e]=[]),B[n][e].push(r),t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent(e,r)}function u(t,e,r){t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent(e,r)}function f(t,e,r){var n=s(t);if(B[n]&&B[n][e])for(var i=0;i<B[n][e].length;i++)(null==r||r==B[n][e][i])&&(B[n][e].splice(i,1),u(t,e,B[n][e][i]))}function h(t,e,r){return parseFloat(t+(e-t)*r).toFixed(3)}function g(t,e,r){return t.substr(e,r||1)}function d(t,e,r){for(var n,i,o,a=2,l=[],s=[];n=3,i=arguments[a-1],a--;)if("r"==g(i,0))for(i=i.match(/\d+/g);n--;)l.push(~~i[n]);else for(4==i.length&&(i="#"+g(i,1)+g(i,1)+g(i,2)+g(i,2)+g(i,3)+g(i,3));n--;)l.push(parseInt(g(i,1+2*n,2),16));for(;n--;)o=~~(l[n+3]+(l[n]-l[n+3])*r),s.push(0>o?0:o>255?255:o);return"rgb("+s.join(",")+")"}function c(t){var e=parseFloat(t),r=t.replace(/^[\-\d\.]+/,"");return isNaN(e)?{v:r,f:d,u:""}:{v:e,f:h,u:r}}function y(t,e,r){var i,o,a,l,s,u,h=[],g=(new Date).getTime(),d=1e3*v.duration,y=g+d,m=t.currentStyle?t.currentStyle:getComputedStyle(t,null),w={},b={};if(""!=L){for(i in e)h.push(i);t.style.setProperty(L+"transition-property",h.join(", "),""),t.style.setProperty(L+"transition-duration",v.duration+"s",""),t.style.setProperty(L+"transition-timing-function",v.easing,""),f(t,n("TransitionEnd")),v.duration>0&&p(t,n("TransitionEnd"),r);for(i in e)t.style[i]=e[i]}else{for(a in e)b[a]=c(e[a]);for(a in e)w[a]=c("opacity"===a?W(m):m[a]);o=setInterval(function(){l=(new Date).getTime(),s=l>y?1:(l-g)/d;for(a in b)u=b[a].f(w[a].v,b[a].v,A[v.easing](s))+b[a].u,"opacity"===a?R(t,u):t.style[a]=u;l>y&&(clearInterval(o),void 0!==r&&r.call())},10)}}function m(){var t,e,r=0,n=0,i=0,o=0,a=0,s=0,p=0,u=0,f=0,h=0;for(t=0;t<x.length;t++)e=l(x[t]),a=e.padding.left+e.padding.right,s=e.padding.top+e.padding.bottom,f=e.margin.left+e.margin.right,h=e.margin.top+e.margin.bottom,a>i&&(i=a),s>o&&(o=s),f>p&&(p=f),h>u&&(u=h),e.width>r&&(r=e.width-i),e.height>n&&(n=e.height-o);for("auto"!=v.cols&&r+p>ee.width/v.cols&&(r=Math.floor(ee.width/v.cols)-i-p),"auto"!=v.rows&&n+u>ee.height/v.rows&&(n=Math.floor(ee.height/v.rows)-o-u),t=0;t<x.length;t++)x[t].style.position="absolute",x[t].style.width=r+"px",x[t].style.height=n+"px",x[t].style.left="0px",x[t].style.top="0px",q?x[t].style.opacity=1:x[t].style.filter="alpha(opacity=100)";re=l(x[0])}var w,v,b,x,F={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},P=window.document,S=P.createElement("div"),M={},A={ease:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t}},E=!1,L="",T="",j=[],O=[],q="string"==typeof S.style.opacity,C="string"==typeof S.style.filter,I=/alpha\(opacity=([^\)]+)\)/,R=function(){},W=function(){return"1"},B={},N=1,z=function(){return!0},k=function(){E=!1};q?(R=function(t,e){t.style.opacity=parseFloat(e)},W=function(t){return t.opacity}):C&&(R=function(t,e){var r=t.style;e=parseFloat(e),I.test(r.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",r.filter=r.filter.replace(I,e)):r.filter+=" alpha(opacity="+100*e+")"},W=function(t){var e=t.filter.match(I);return(e?e[1]/100:1)+""});var D=function(){if(E)return!1;E=!0;var t=H(),e=(t*ee.width,v.cols*v.rows),r=G(),n=j.slice((r-2)*e,(r-2)*e+e);return n.length?y(b,{left:parseFloat(b.offsetLeft)+ee.width-ee.padding.left+"px"},k):E=!1,n},V=function(){if(E)return!1;E=!0;var t=H(),e=(t*ee.width,v.cols*v.rows),r=G(),n=j.slice(r*e,r*e+e);return n.length?y(b,{left:parseFloat(b.offsetLeft)-ee.width-ee.padding.left+"px"},k):E=!1,n},_=function(t,e){if(E)return!1;null==e&&(e=!0),E=!0;var r=H(),n=(r*ee.width,G()),i=-((t-1)*(ee.width-ee.padding.left))+"px",o=v.cols*v.rows,a=j.slice((t-1)*o,(t-1)*o+o);return n!=t&&r>=t&&t>0?(e?y(b,{left:i},k):b.style.left=i,E=!1):E=!1,a},G=function(){var t=Math.ceil(-parseFloat(b.style.left)/ee.width)+1;return"number"==typeof t?t:1},H=function(){return Math.ceil(j.length/(v.rows*v.cols))},J=function(t){var e=j.indexOf(t);return G(),numPerPage=v.rows*v.cols,start=(G()-1)*numPerPage,end=start+numPerPage<=j.length?start+numPerPage:j.length,-1!=e&&e>=start&&end>e},K=function(t){if(!x.length)return!1;var e,r,n,i,o,a=0,l=0,s=0,p={};for(("string"==typeof t||Array.isArray(t))&&("string"==typeof t&&(t=[t]),i="(?=.*\\b("+t.join(")\\b)(?=.*\\b(")+")\\b)",t=function(t){return new RegExp(i).test(t.className)}),z=t,j=[],y(b,{left:ee.padding.left+"px"}),n=0;n<O.length;n++)o=O[n],t(o)?(j.push(o),e=(re.height+re.margin.bottom+re.margin.top)*a,r=(re.width+re.margin.right+re.margin.left)*l+ee.width*s,p={top:e+"px",left:r+"px",opacity:"1"},l++,l==v.cols&&(l=0,a++,a==v.rows&&(a=0,s++))):p={opacity:"0"},y(O[n],p);return j},Q=function(t,e){if(!x.length)return!1;null==e&&(e=!0);var r,n,i,o,a=0,l=0,s=0,p={},u=[];for(O=[],i=0;i<t.length;i++)o="string"==typeof t[i]?w.querySelector(t[i]):t[i],O.push(o),-1!=j.indexOf(o)&&(u.push(o),r=(re.height+re.margin.top+re.margin.bottom)*a,n=(re.width+re.margin.right+re.margin.left)*l+ee.width*s,p={top:r+"px",left:n+"px",opacity:"1"},e?y(o,p):(o.style.top=p.top,o.style.left=p.left,q?x[i].style.opacity=p.opacity:x[i].style.filter="alpha(opacity="+10*parseInt(p.opacity)+")"),l++,l==v.cols&&(l=0,a++,a==v.rows&&(a=0,s++)));return j=u,O},U=function(t){var e;for(j=O=[],e=0;e<x.length;e++)j.push(x[e]);O=j,Q(O,t)},X=function(t,e){var r=z(t);return t.style.position="absolute",t.style.width=re.width-re.padding.left-re.padding.right+"px",t.style.height=re.height-re.padding.top-re.padding.bottom+"px",t.style.top=-(t.style.height+50)+"px",t.style.left=ee.width+50+"px",q?t.style.opacity=r?1:0:t.style.filter="alpha(opacity="+(r?100:0)+")",b.appendChild(t),r&&j.splice(e-1,0,t),O.splice(e-1,0,t),x=w.querySelectorAll(v.selector),Q(O),j},Y=function(t){var e=j.indexOf(t),r=e==j.length-1&&1==j.length%(v.rows*v.cols);return O.splice(O.indexOf(t),1),j.splice(e,1),b.removeChild(t),x=w.querySelectorAll(v.selector),j.length&&Q(O),r&&_(G()-1),j},Z=function(){var t=v.rows*v.cols;return j.slice((G()-1)*t,t)};if("string"==typeof t&&null==P.querySelector(t))throw"Element "+t+" does not exist!";if(w="string"==typeof t?P.querySelector(t):t,v=a({selector:"div.guggenheim-item",rows:"auto",cols:"auto",duration:.5,easing:"ease",slider:"div.guggenheim-slider",width:null,height:null},e),w.style.overflow="hidden",""==w.style.position&&(w.style.position="relative"),null!=v.width&&(w.style.width=v.width+"px"),null!=v.height&&(w.style.height=v.height+"px"),x=w.querySelectorAll(v.selector),!x.length)throw"Gallery is empty";var $,te,b,ee=l(w),re=l(x[0]),ne=o(F),ie=i(F);return"auto"==v.cols&&($=re.width+re.margin.left+re.margin.right,v.cols=Math.floor(ee.width/$)),"auto"==v.rows&&(te=re.height+re.margin.top+re.margin.bottom,v.rows=Math.floor(ee.height/te)),m(),b=w.querySelector(v.slider),b.style.left=ee.padding.left+"px",b.style.position="relative",function(){for(var t=0;t<ie.length;t++)if(void 0!==S.style[ie[t]+"TransitionProperty"])return L="-"+r(ie[t])+"-",T=ne[t],!1}(),M[L+"transition-property"]=M[L+"transition-duration"]=M[L+"transition-timing-function"]=M[L+"animation-name"]=M[L+"animation-duration"]="",U(!1),{reset:U,order:Q,filter:K,prev:D,next:V,jumpTo:_,currentPage:G,numPages:H,remove:Y,add:X,isVisible:J,getVisible:Z}};Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e,r,n=Object(this),i=n.length>>>0;if(0===i)return-1;if(e=0,arguments.length>0&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&1/0!=e&&e!=-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e)))),e>=i)return-1;for(r=e>=0?e:Math.max(i-Math.abs(e),0);i>r;r++)if(r in n&&n[r]===t)return r;return-1});
